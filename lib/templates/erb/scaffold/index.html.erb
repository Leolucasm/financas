<%# frozen_string_literal: true %>
<div class="section-header">
  <h1><%%=<%= singular_table_name.capitalize.constantize %>.model_name.human(count: @<%=singular_table_name.pluralize %>)%></h1>
  <!-- Breadcrumb -->
  <div class="section-header-breadcrumb">
    <%= @teste %>
  </div>
</div>

<div class="section-body">

  <%%= link_to t('buttons.new'), new_<%= singular_table_name %>_path, class: 'btn btn-primary', style: "margin-bottom: 25px;", data: { modal: true } %>

  <div class="card">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-striped table-md">
          <thead>
            <tr>
            <%- attributes.each do |attribute| -%>
              <% if attribute.name != "user_id" %>
                <th><%%= <%= singular_table_name.capitalize.constantize %>.human_attribute_name :<%= attribute.name %> %></th>
              <% end %>
            <%- end -%>

              <th colspan="2">Ações</th>
            </tr>
          </thead>
          <tbody>
            <%% @<%= singular_table_name.pluralize %>.each do |<%= singular_table_name %>| %>
              <tr>
              <%- attributes.each do |attribute| -%>
                <% if attribute.name != "user_id" %>
                  <td><%%= <%= singular_table_name %>.<%= attribute.name %> %></td>
                <% end %>
              <%- end -%>
                <td style="width:50px;">
                  <%%= link_to edit_<%= singular_table_name %>_path(<%= singular_table_name %>), data: { modal: true } do %>
                    <i class="far fa-edit" style="font-size: 16px !important;"></i>
                  <%% end %>
                </td>
                <td style="width:50px;">
                  <%%= link_to <%= singular_table_name %>, method: :delete, data: { confirm: t('messages.confirm_destroy')} do %>
                    <i class="far fa-trash-alt" style="font-size: 16px !important;"></i>
                  <%% end %>
                </td>
              </tr>
            <%% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
